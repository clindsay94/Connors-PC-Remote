<UserControl
    x:Class="CPCRemote.UI.Controls.AnimatedRadialGauge"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    SizeChanged="UserControl_SizeChanged">

    <Grid>
        <!-- Glow Ring (Backlight) -->
        <Ellipse Stroke="{ThemeResource NeonGlowBrush}"
                 StrokeThickness="12"
                 Width="100" Height="100"
                 Opacity="0.2"/>

        <!-- Background Ring -->
        <Ellipse x:Name="TrackRing"
                 Stroke="{ThemeResource SurfaceStrokeColorDefaultBrush}"
                 StrokeThickness="8"
                 Width="100" Height="100"/>
                 
        <!-- Active Glow (We can't easily animate a second path without duplicating logic, 
             so let's just make the main path glow via Shadow if possible or just use a bright brush) 
             For now, just updating the main path to use SystemAccentColor is a win.
        -->
                 
        <!-- Progress Ring -->
        <Path x:Name="ProgressPath"
              Stroke="{ThemeResource NeonGlowBrush}"
              StrokeThickness="8"
              StrokeStartLineCap="Round"
              StrokeEndLineCap="Round"
              Width="100" Height="100"/>

        <!-- Content -->
        <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
            <TextBlock x:Name="ValueText" 
                       Text="0" 
                       Style="{StaticResource TitleLargeTextBlockStyle}" 
                       HorizontalAlignment="Center"
                       Foreground="{ThemeResource VibrantMesh}"/>
            <TextBlock x:Name="UnitText" 
                       Text="%" 
                       Style="{StaticResource CaptionTextBlockStyle}" 
                       HorizontalAlignment="Center"
                       Opacity="0.7"/>
        </StackPanel>
    </Grid>
</UserControl>
